models:
  conformer:
    platform: onnx
    runtime: dsp
    obfuscate: 0
    quantize: 1
    nnlib_graph_mode: 0
    limit_opencl_kernel_time: 0
    model_file_path: /home/NIO/mace/workspace/conformer/conformer_data/change_conformer.onnx
    model_sha256_checksum: 096fd4d4761f1d8164b3a05a90819c097e8aa61f247b15403d86001cb2504bb5
    quantize_range_file: /home/NIO/mace/workspace/conformer/conformer_data/overall_range
    subgraphs:
      - input_tensors: 
          - input
          - icache1
          - icache2
          - icache3
        input_shapes: 
          - 1,19,40
          - 1,17,128
          - 5,1,17,128
          - 5,1,128,3
        output_tensors: 
          - output
          - output_ce
          - ocache1
          - ocache2
          - ocache3
        output_shapes: 
          - 1,4,439
          - 1,4,439
          - 1,17,128
          - 5,1,17,128
          - 5,1,128,3
        input_data_formats: 
          - NONE
          - NONE
          - NONE
          - NONE
        output_data_formats: 
          - NONE
          - NONE
          - NONE
          - NONE
          - NONE
        backend: 
          - pytorch
        input_ranges:
          - -1.0,1.0
        input_data_types:
          - float32
          - float32
          - float32
          - float32
        output_data_types:
          - float32
          - float32
          - float32
          - float32
          - float32
        check_tensors:
          # - '1395'
          # - '1401'
          # - '1411'
          # - '1433'
          # - '1438'

          # - '1627'
          # - '1638'
          # - '1640'
          # - '1646'
          # - '1661'

          # - '1669'
          # - '1670'
          # - '1671'
          # - '1672'
          # - '1673'

          # - '1674'
          # - '1689'
          # - '1697'
          # - '1698'
          # - '1709'
          # - '1710'

          # - '1711'
          # - '1712'
          # - '1713'
          # - '1728'
          # - '1736'
          # - '1737'
          # - '1738'
          

          # - '1738'
          # - '1749'
          # - '1765'
          # - '1766'
          # - '1774'
          # - '1404'
          # - '1802'
          # - '1813'
          # - '1814'
          # - '1838'
          # - '1902'
          # - '1923'
          # - '2099'
          # - '2144'
          # - '2216'

          # Layernorm sim test
          # - '1433'
          # - '1638' 
          # - '1709'
          # - '1749'
          # - '1813'
          # - '1923'
          # - '2143'
          # - '2214'
          # - '2254'
          # - '2318'
          # - '2428'
          # - '2648'
          # - '2719'
          # - '2759'
          # - '2823'
          # - '2933'
          # - '3153'
          # - '3224'
          # - '3264'
          # - '3328'
          # - '3438'
          # - '3658'
          # - '3729'
          # - '3769'
          # - '3833'
          # - '3931'

          # - '3253'
          # - '3328'
          # - '3689'
          # - '3690'
          # - '3691'

          # Conv sim
          # - '1674'
          # - '1689'
          # - '2194'
          # - '2699'
          # - '3204'
          # - '3709'
          # - '1395'
          # - '1433'
          # - '1638'
          # - '1893'

          #Squeeze
          # - '1669'
          # - '1697'
          # - '1736'
          # - '2174'
          # - '2202'
          # - '2241'
          # - '2679'
          # - '2707'
          # - '2746'
          # - '3184'
          # - '3212'
          # - '3251'
          # - '3689'
          # - '3717'
          # - '3756'

          #Unsqueeze
          # - '3913'

          - output
          - output_ce
          - ocache1
          - ocache2
          - ocache3
        check_shapes:
          # - 1,21,128            #1395
          # - 1,16,128            #1401
          # - 1,20,128            #1411
          # - 1,20,128            #1433
          # - 1,4,128             #1438

          # - 1,4,128             #1627
          # - 1,4,128             #1638
          # - 1,128,6             #1640
          # - 1,128,1,6           #1646
          # - 1,256,1,6           #1661

          # - 1,256,6             #1669
          # - 1,128,6             #1670
          # - 1,128,6             #1671
          # - 1,128,6             #1672
          # - 1,128,6             #1673

          # - 1,128,1,6           #1674
          # - 1,128,1,4           #1689
          # - 1,128,4             #1697
          # - 1,4,128             #1698
          # - 1,4,128             #1709
          # - 1,4,128             #1710

          # - 1,4,128             #1711
          # - 1,128,4             #1712
          # - 1,128,1,4           #1713
          # - 1,128,1,4           #1728
          # - 1,128,4             #1736
          # - 1,4,128             #1737  
          # - 1,4,128             #1738

          # - 1,4,128             #1738
          # - 1,4,128             #1749
          # - 1,4,240             #1765
          # - 1,4,240             #1766
          # - 1,4,240             #1774
          # - 1,4,128             #1813

          # - 1,17,128              #1404
          # - 1,4,128               #1802
          # - 1,4,128             #1813
          # - 1,20,128            #1814
          # - 1,21,128            #1838
          # - 1,20,128            #1902
          # - 1,20,128            #1923
          # - 1,4,4,32            #2099
          # - 1,128,4             #2144
          # - 1,4,128             #2216

          # - 1,4,128             #3253
          # - 1,4,128             #3328
          # - 1,256,6             #3689
          # - 1,128,6             #3690
          # - 1,128,6             #3691

          # Layernorm sim test
          # - 1,20,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,20,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,20,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,20,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,20,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,4,128
          # - 1,20,128
          

          # Conv sim
          # - 1,128,1,4   #1689
          # - 1,128,1,4   #2194
          # - 1,128,1,4   #2699
          # - 1,128,1,4   #3204
          # - 1,128,1,4   #3709

          # - 1,21,128  # 1395
          # - 1,20,128  # 1433
          # - 1,4,128   # 1638
          # - 1,1,128,3 # 1893

          # Squeeze
          # - 1,256,6
          # - 1,128,4
          # - 1,128,4
          # - 1,256,6
          # - 1,128,4
          # - 1,128,4
          # - 1,256,6
          # - 1,128,4
          # - 1,128,4
          # - 1,256,6
          # - 1,128,4
          # - 1,128,4
          # - 1,256,6
          # - 1,128,4
          # - 1,128,4

          #Unsqueeze
          # - 1,1,128,3

          - 1,4,439
          - 1,4,439
          - 1,17,128
          - 5,1,17,128
          - 5,1,128,3
        validation_inputs_data:
          - /home/NIO/mace/workspace/conformer/conformer_data/inputs/input.raw
          - /home/NIO/mace/workspace/conformer/conformer_data/inputs/icache1.raw
          - /home/NIO/mace/workspace/conformer/conformer_data/inputs/icache2.raw
          - /home/NIO/mace/workspace/conformer/conformer_data/inputs/icache3.raw